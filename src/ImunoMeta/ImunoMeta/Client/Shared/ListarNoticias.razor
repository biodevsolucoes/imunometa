@inject IHttpClientFactory ClientFactory
<div class="mb-3 border bg-white p-3">
    <div class="d-flex justify-content-between mb-3">
        <div>
            <h1>Notícias</h1>
        </div>
        @if (ExibirBotaoVoltar)
        {
            <button class="btn btn-outline-dark" onclick="history.back(-1)">
                Voltar
            </button>
        }
    </div>
    @if (NoticiasRecentes.Any())
    {
        foreach (var noticia in NoticiasRecentes)
        {
            <div class="row mb-4">
                <img src="@noticia.UrlImagemCapa" class="col-12 mb-2 mb-sm-0 col-sm-4">
                <div class="col-12 col-sm-8">
                    <h4>@noticia.Titulo</h4>
                    <p>@noticia.Resumo</p>
                </div>
            </div>


        }

    }
    else
    {
        <div class="alert alert-info">
            Nenhum notícia cadastrada.
        </div>
    }

</div>

@code {
    private List<Noticia> NoticiasRecentes = new List<Noticia>();

    [Parameter]
    public int Quantidade { get; set; } = 1;

    [Parameter]
    public bool ExibirBotaoVoltar { get; set; } = false;

    protected override async Task OnInitializedAsync()
    {
        HttpClient Http = ClientFactory.CreateClient("public");

        try
        {
            NoticiasRecentes = await Http.GetFromJsonAsync<List<Noticia>>($"Noticias/Recentes/{Quantidade}");
        }
        catch (Exception e)
        {
            Console.Write(e);
        }
    }
}